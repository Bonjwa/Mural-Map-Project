System.register(["jimu-core","jimu-ui","jimu-layouts/layout-runtime","jimu-for-builder","jimu-layouts/layout-builder","jimu-core/dnd"],(function(t){var e,n,o,i,r,s;return{setters:[function(t){e=t},function(t){n=t},function(t){o=t},function(t){i=t},function(t){r=t},function(t){s=t}],execute:function(){t(function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=497)}({0:function(t,n){t.exports=e},1:function(t,e){t.exports=n},133:function(t,e){t.exports='<svg viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg"><g fill-rule="nonzero" fill="none"><path d="M7 5.316l-5.125 5.052a.814.814 0 01-1.14 0 .786.786 0 010-1.123l5.696-5.613a.814.814 0 011.138 0l5.695 5.613a.786.786 0 010 1.123.814.814 0 01-1.139 0L7 5.316z" fill="#000"></path><path d="M0 0h14v14H0z"></path></g></svg>'},24:function(t,e){t.exports=r},497:function(t,e,n){"use strict";n.r(e);var o,i=n(0),r=n(68),s=n(8),l=n(5),a=n(24),c=n(1),p=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(){return(u=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e.prototype.render=function(){var t=this.props,e=t.style,n=t.className,o=t.innerLayouts,r=t.itemStyle,s=t.collapsed;return i.React.createElement("div",{className:Object(i.classNames)("side d-flex",n),style:u(u(u({},e),c.styleUtils.toCSSStyle(r)),{overflow:"auto"})},i.React.createElement(a.LayoutEntry,{className:"border-0",layouts:o,isInWidget:!0,ignoreMinHeight:!0,droppable:!s}))},e}(i.React.PureComponent),f=n(7),h=n(99),b=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),g=function(t){function e(e){var n=t.call(this,e)||this;return n.bindSplitHandler=function(){var t,e;null!=n.splitRef&&null==n.interactable&&(n.interactable=Object(r.interact)(n.splitRef).origin("parent").draggable({inertia:!1,autoScroll:!1,modifiers:[r.interact.modifiers.restrict({restriction:"parent"})],startAxis:n.props.direction===f.d.Horizontal?"x":"y",lockAxis:n.props.direction===f.d.Horizontal?"x":"y",onstart:function(o){o.stopPropagation(),t=0,e=0;var i=n.ref.getBoundingClientRect();n.domSize=n.props.direction===f.d.Horizontal?i.width:i.height,n.setState({isResizing:!0})},onmove:function(o){if(o.stopPropagation(),t+=o.dx,e+=o.dy,n.props.direction===f.d.Horizontal){var i=l.utils.isRTL()?-1:1;n.props.config.collapseSide===f.a.First?n.setState({deltaSize:Math.round(t*i)}):n.setState({deltaSize:-Math.round(t*i)})}else n.props.config.collapseSide===f.a.First?n.setState({deltaSize:Math.round(e)}):n.setState({deltaSize:-Math.round(e)})},onend:function(t){t.stopPropagation();var e,o=n.props.config,r=n.state.deltaSize;e=l.utils.isPercentage(o.size)?(100*(parseFloat(o.size)*n.domSize/100+r)/n.domSize).toFixed(4)+"%":(parseFloat(o.size)+r).toFixed(0)+"px",Object(s.getAppConfigAction)().editWidgetConfig(n.props.widgetId,Object(i.Immutable)(o).set("size",e)).exec(),n.setState({deltaSize:0,isResizing:!1})}}))},n.layoutItemComponent=d,n}return b(e,t),e}(h.a);e.default={SidebarLayoutBuilder:g}},5:function(t,e){t.exports=o},66:function(t,e){t.exports='<svg viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg"><g fill-rule="nonzero" fill="none"><path d="M4.916 7l5.052 5.125c.31.315.31.825 0 1.14a.786.786 0 01-1.123 0L3.232 7.568a.814.814 0 010-1.138L8.845.736a.786.786 0 011.123 0c.31.314.31.824 0 1.139L4.916 7z" fill="#000"></path><path d="M0 0h14v14H0z"></path></g></svg>'},68:function(t,e){t.exports=s},7:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"d",(function(){return r})),n.d(e,"b",(function(){return s})),n.d(e,"e",(function(){return c}));var o,i,r,s,l=n(0),a=n(1);!function(t){t.First="FIRST",t.Second="SECOND"}(o||(o={})),function(t){t.Start="START",t.Center="CENTER",t.End="END"}(i||(i={})),function(t){t.Horizontal="HORIZONTAL",t.Vertical="VERTICAL"}(r||(r={})),function(t){t.Left="LEFT",t.Right="RIGHT",t.Up="UP",t.Down="DOWN"}(s||(s={}));var c=Object(l.Immutable)({direction:r.Horizontal,collapseSide:o.First,overlay:!1,size:"300px",divider:{visible:!0,lineStyle:{type:a.NormalLineType.SOLID,color:"var(--light-500)",width:"1px"}},resizable:!1,toggleBtn:{visible:!0,icon:s.Left,offsetX:15,offsetY:0,position:i.Center,iconSize:14,width:15,height:60,color:{normal:{icon:{useTheme:!1,color:"#FFFFFF"},bg:{useTheme:!0,color:"colors.primary"}},hover:{bg:{useTheme:!0,color:"colors.palette.primary[600]"}}},expandStyle:{style:{borderRadius:"0 92px 92px 0"}},collapseStyle:{style:{borderRadius:"0 92px 92px 0"}}},defaultState:1})},76:function(t,e){t.exports='<svg viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg"><g fill-rule="nonzero" fill="none"><path d="M8.784 7L3.732 1.875a.814.814 0 010-1.14.786.786 0 011.123 0l5.613 5.696c.31.314.31.824 0 1.138l-5.613 5.695a.786.786 0 01-1.123 0 .814.814 0 010-1.139L8.784 7z" fill="#000"></path><path d="M0 0h14v14H0z"></path></g></svg>'},8:function(t,e){t.exports=i},83:function(t,e){t.exports='<svg viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg"><g fill-rule="nonzero" fill="none"><path d="M7 8.684l5.125-5.052a.814.814 0 011.14 0 .786.786 0 010 1.123l-5.696 5.613a.814.814 0 01-1.138 0L.736 4.755a.786.786 0 010-1.123.814.814 0 011.139 0L7 8.684z" fill="#000"></path><path d="M0 0h14v14H0z"></path></g></svg>'},99:function(t,e,n){"use strict";n.d(e,"a",(function(){return _}));var o,i=n(0),r=n(5),s=n(1),l=n(7),a=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},p={};p[l.b.Left]=n(66),p[l.b.Right]=n(76),p[l.b.Up]=n(133),p[l.b.Down]=n(83);var u,d,f,h,b,g,y,v,S,x,m,j=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.getStyle=function(){var t=this.props,e=t.width,n=t.height;return Object(i.css)(u||(u=c(["\n      padding: 0;\n      width: ","px;\n      height: ","px;\n\n      .jimu-icon {\n        margin: 0;\n      }\n    "],["\n      padding: 0;\n      width: ","px;\n      height: ","px;\n\n      .jimu-icon {\n        margin: 0;\n      }\n    "])),e,n)},e.prototype.flipStyle=function(t){if(!this.props.shouldFlip)return t;var e=Object(i.Immutable)(t);if(null!=t.borderRadius){var n=t.borderRadius.split(" ");e=e.set("borderRadius",n[1]+" "+n[0]+" "+n[3]+" "+n[2])}return e},e.prototype.render=function(){var t=this.props,e=t.icon,n=t.iconSize,o=t.style,r=t.expanded,l=t.shouldFlip?180:0;return Object(i.jsx)(s.Button,{className:"sidebar-controller d-flex justify-content-center align-items-center",css:this.getStyle(),style:this.flipStyle(o)},Object(i.jsx)(s.Icon,{className:"icon",rotate:r?0+l:180+l,icon:p[e],size:n}))},e}(i.React.PureComponent),z=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},O=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),w=Object(i.css)(d||(d=z(["\n  transition: all 200ms;\n"],["\n  transition: all 200ms;\n"]))),_=function(t){function e(e){var n=t.call(this,e)||this;return n.removeSplitHandler=function(){null!=n.interactable&&(n.interactable.unset(),n.interactable=null)},n.handleToggleSidebar=function(t){t.stopPropagation(),Object(i.getAppStore)().dispatch(i.appActions.widgetStatePropChange(n.props.widgetId,"collapse",!n.props.sidebarVisible))},n.state={isResizing:!1,deltaSize:0},n}return O(e,t),e.prototype.componentDidMount=function(){var t=this.props,e=t.firstLayouts,n=t.secondLayouts,o=t.config;null!=e&&null!=n&&this.bindSplitHandler(),Object(i.getAppStore)().dispatch(i.appActions.widgetStatePropChange(this.props.widgetId,"collapse",0!==o.defaultState))},e.prototype.componentDidUpdate=function(){var t=this.props,e=t.firstLayouts,n=t.secondLayouts;null!=e&&null!=n&&null==this.interactable&&this.bindSplitHandler(),null!=this.interactable&&this.interactable.draggable({startAxis:this.props.direction===l.d.Horizontal?"x":"y",lockAxis:this.props.direction===l.d.Horizontal?"x":"y"})},e.prototype.componentWillUnmount=function(){this.removeSplitHandler()},e.prototype.calSidebarSize=function(){var t=this.props.config;return 0!==this.state.deltaSize?r.utils.isPercentage(t.size)?parseFloat(t.size)*this.domSize/100+this.state.deltaSize+"px":parseFloat(t.size)+this.state.deltaSize+"px":t.size},e.prototype.createCollapsibleSide=function(t,e){var n,o=this.props,r=o.config,s=o.direction,a=this.calSidebarSize(),c=this.shouldFlipLeftAndRight();n=s===l.d.Horizontal?Object(i.css)(f||(f=z(["\n        width: ",";\n        transform: ",";\n        top: ",";\n        bottom: ",";\n        left: ",";\n        right: ",";\n      "],["\n        width: ",";\n        transform: ",";\n        top: ",";\n        bottom: ",";\n        left: ",";\n        right: ",";\n      "])),a,r.overlay&&!this.props.sidebarVisible?r.collapseSide===l.a.First?"translateX(-"+a+")":"translateX("+a+")":"none",r.overlay?0:"auto",r.overlay?0:"auto",r.overlay&&e===l.a.First?0:"auto",r.overlay&&e===l.a.Second?0:"auto"):Object(i.css)(h||(h=z(["\n        height: ",";\n        transform: ",";\n        left: ",";\n        right: ",";\n        top: ",";\n        bottom: ",";\n      "],["\n        height: ",";\n        transform: ",";\n        left: ",";\n        right: ",";\n        top: ",";\n        bottom: ",";\n      "])),a,r.overlay&&!this.props.sidebarVisible?r.collapseSide===l.a.First?"translateY(-"+a+")":"translateY("+a+")":"none",r.overlay?0:"auto",r.overlay?0:"auto",r.overlay&&e===l.a.First?0:"auto",r.overlay&&e===l.a.Second?0:"auto");var p=this.layoutItemComponent;return Object(i.jsx)("div",{css:Object(i.css)(b||(b=z(["\n        ","\n        ","\n        position: ",";\n        overflow: visible;\n        z-index: 2;\n        flex-grow: 0;\n        flex-shrink: 0;\n        flex-basis: auto;\n      "],["\n        ","\n        ","\n        position: ",";\n        overflow: visible;\n        z-index: 2;\n        flex-grow: 0;\n        flex-shrink: 0;\n        flex-basis: auto;\n      "])),this.state.isResizing?"":w,n,r.overlay?"absolute":"relative"),className:Object(i.classNames)("d-flex",{"flex-column":s===l.d.Vertical})},Object(i.jsx)(p,{innerLayouts:t,itemStyle:e===l.a.First?r.firstPanelStyle:r.secondPanelStyle,collapsed:!this.props.sidebarVisible,className:Object(i.classNames)({"h-100":s===l.d.Vertical,"w-100":s===l.d.Horizontal})}),this.createController(c))},e.prototype.splitStyle=function(){var t=this.props,e=t.direction,n=t.config,o=this.calSidebarSize(),r=!this.props.sidebarVisible,a=null!=n.divider&&n.divider.visible&&null!=n.divider.lineStyle?s.styleUtils.toCSSBorder(n.divider.lineStyle):"none";return e===l.d.Horizontal?Object(i.css)(g||(g=z(["\n        width: 1px;\n        border-left: ",";\n        position: ",";\n        left: ",";\n        right: ",";\n        height: ",";\n        &:after {\n          display: ",";\n          position: absolute;\n          content: '';\n          width: 5px;\n          top: 0;\n          bottom: 0;\n          left: -2px;\n          cursor: col-resize;\n        }\n        z-index: 3;\n      "],["\n        width: 1px;\n        border-left: ",";\n        position: ",";\n        left: ",";\n        right: ",";\n        height: ",";\n        &:after {\n          display: ",";\n          position: absolute;\n          content: '';\n          width: 5px;\n          top: 0;\n          bottom: 0;\n          left: -2px;\n          cursor: col-resize;\n        }\n        z-index: 3;\n      "])),a,n.overlay?"absolute":"relative",n.overlay&&!r&&n.collapseSide===l.a.First?o:"auto",n.overlay&&!r&&n.collapseSide===l.a.Second?o:"auto",n.overlay?"100%":"auto",n.resizable?"block":"none"):Object(i.css)(y||(y=z(["\n      height: 1px;\n      border-top: ",";\n      position: ",";\n      top: ",";\n      bottom: ",";\n      width: ",";\n      &:after {\n        display: ",";\n        position: absolute;\n        content: '';\n        height: 5px;\n        top: -2px;\n        right: 0;\n        left: 0;\n        cursor: row-resize;\n      }\n      z-index: 3;\n    "],["\n      height: 1px;\n      border-top: ",";\n      position: ",";\n      top: ",";\n      bottom: ",";\n      width: ",";\n      &:after {\n        display: ",";\n        position: absolute;\n        content: '';\n        height: 5px;\n        top: -2px;\n        right: 0;\n        left: 0;\n        cursor: row-resize;\n      }\n      z-index: 3;\n    "])),a,n.overlay?"absolute":"relative",n.overlay&&!r&&n.collapseSide===l.a.First?o:"auto",n.overlay&&!r&&n.collapseSide===l.a.Second?o:"auto",n.overlay?"100%":"auto",n.resizable?"block":"none")},e.prototype.createController=function(t){var e=this.props,n=e.config,o=e.theme,r=e.direction;if(null!=n.toggleBtn&&!n.toggleBtn.visible)return null;var s,a,c,p=this.props.sidebarVisible?n.toggleBtn.collapseStyle:n.toggleBtn.expandStyle,u=0,d=0;if(r===l.d.Horizontal){n.toggleBtn.position===l.c.Start?s=0:n.toggleBtn.position===l.c.Center&&(s="50%",d=-n.toggleBtn.height/2);var f=n.collapseSide===l.a.Second;c=Object(i.css)(v||(v=z(["\n        top: ",";\n        bottom: ",";\n        right: ",";\n        left: ",";\n      "],["\n        top: ",";\n        bottom: ",";\n        right: ",";\n        left: ",";\n      "])),n.toggleBtn.position!==l.c.End?s:"auto",n.toggleBtn.position===l.c.End?0:"auto",f?"auto":0,f?0:"auto")}else n.toggleBtn.position===l.c.Start?a=0:n.toggleBtn.position===l.c.Center&&(a="50%",u=-n.toggleBtn.width/2),c=Object(i.css)(S||(S=z(["\n        left: ",";\n        right: ",";\n        bottom: ",";\n        top: ",";\n      "],["\n        left: ",";\n        right: ",";\n        bottom: ",";\n        top: ",";\n      "])),n.toggleBtn.position!==l.c.End?a:"auto",n.toggleBtn.position===l.c.End?0:"auto",n.collapseSide===l.a.First?0:"auto",n.collapseSide===l.a.Second?0:"auto");var h=p.style,b=n.toggleBtn,g=b.iconSize,y=b.width,m=b.height,O=b.color,w=b.icon;return Object(i.jsx)("div",{css:Object(i.css)(x||(x=z(["\n          ","\n          position: absolute;\n          transform: translate(","px, ","px);\n        "],["\n          ","\n          position: absolute;\n          transform: translate(","px, ","px);\n        "])),c,n.toggleBtn.offsetX+u,n.toggleBtn.offsetY+d),onClick:this.handleToggleSidebar},Object(i.jsx)(j,{theme:o,icon:w,iconSize:g,expanded:this.props.sidebarVisible,width:y,height:m,color:O,style:h,shouldFlip:t}))},e.prototype.createNormalSide=function(t,e){var n=this.layoutItemComponent,o=this.props.config;return Object(i.jsx)("div",{css:this.state.isResizing?"":w,className:"flex-shrink-0 flex-grow-1 d-flex",style:{zIndex:0,flexBasis:this.props.sidebarVisible?"0":"100%",overflow:"auto"}},Object(i.jsx)(n,{itemStyle:e===l.a.First?o.firstPanelStyle:o.secondPanelStyle,innerLayouts:t,className:"w-100"}))},e.prototype.shouldFlipLeftAndRight=function(){return this.props.direction===l.d.Horizontal&&Object(i.getAppStore)().getState().appContext.isRTL},e.prototype.render=function(){var t=this,e=this.props,n=e.config,o=e.firstLayouts,a=e.secondLayouts,c=e.direction;return null==o||null==a?Object(i.jsx)(s.Loading,null):Object(i.jsx)(r.PageContext.Consumer,null,(function(e){var r=e.builderTheme;return Object(i.jsx)("div",{className:Object(i.classNames)("d-flex w-100",{"flex-column":c===l.d.Vertical}),ref:function(e){return t.ref=e},css:Object(i.css)(m||(m=z(["\n            border: 1px dashed ",";\n            position: relative;\n            overflow: hidden;\n            justify-content: ",";\n            body:not(.design-mode) & {\n              border: none;\n            }\n          "],["\n            border: 1px dashed ",";\n            position: relative;\n            overflow: hidden;\n            justify-content: ",";\n            body:not(.design-mode) & {\n              border: none;\n            }\n          "])),null!=r?i.polished.rgba(r.colors.palette.dark[300],.3):"",n.collapseSide===l.a.First?"flex-end":"flex-start")},n.collapseSide===l.a.First?t.createCollapsibleSide(o,l.a.First):t.createNormalSide(o,l.a.First),Object(i.jsx)("div",{css:t.splitStyle(),ref:function(e){return t.splitRef=e}}),n.collapseSide===l.a.Second?t.createCollapsibleSide(a,l.a.Second):t.createNormalSide(a,l.a.Second))}))},e}(i.React.PureComponent)}}))}}}));